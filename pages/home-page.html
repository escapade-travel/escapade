<dom-module id="home-page">
    <template>

        <iron-ajax id="getdata"
                auto
                url="/data/articles.json"
                method="GET"
                handle-as="json"
                on-response="handleResponse"
                debounce-duration="300"></iron-ajax>

        <!-- Navigation -->
        <nav-element></nav-element>

        <!-- Page Header -->
        <!-- Set your background image for this header on the line below. -->
        <header class="intro-header index-page">
            <div class="search-box col-xs-10 col-sm-8 col-md-6">

                <h3>一个真正的旅行家必是一个流浪者</h3>
                <input type="search" class="form-control" placeholder="发现" >

                <div class="search-button">
                    <a href="#/themes" class="btn btn-lg btn-success selected">探索浪客</a>
                </div>
            </div>
            <div class="start-button">
                <a data-scroll href="#start"></a>
            </div>
        </header>

        <!-- Main Content -->
        <section id="start" class="container">
            <div class="row">
                <div class="index-heading">
                    <h2>（待定）</h2>
                </div>
                <div class="col-lg-8 col-lg-offset-2 col-xs-10 col-xs-offset-1">
                    <p>一个真正的旅行家必是一个流浪者，经历着流浪者的快乐、诱惑，和探险意念。旅行必须流浪式，否则便不成其为旅行。旅行的要点在于无责任、无定时、无来往信札、无嚅嚅好问的邻人、无来客和无目的地。一个好的旅行家决不知道他往那里去，更好的甚至不知道从何处而来。他甚至忘却了自己的姓名。</p>
                </div>
            </div>
        </section>

        <!-- Themes slider -->

        <section class="dark">
            <div class="container">
                <div class="row">

                    <div class="index-heading">
                        <h2>主题路线</h2>
                    </div>
                    <div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">
                        <!-- Slider -->
                        <div id="slider"></div>
                        <!-- <slider-element data-slides="{{slides}}"></slider-element> -->

                        <div class="actions text-center">
                            <div class="">
                                <a href="#/themes" class="btn btn-lg btn-info selected fullwidth">查看所有</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Actions -->

        <section class="bg-section action-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2 col-xs-10 col-xs-offset-1">
                        <div class="actions text-center">
                            <div class="col-sm-6 action">
                                <a href="#/booking" class="btn btn-lg btn-primary">立即预订</a>
                            </div>
                            <div class="col-sm-6 action">
                                <a href="#/themes/1" class="btn btn-lg btn-info">随便看看</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="float">
            <a class="scroll-up" data-scroll href="#begin" ></a>
        </div>
        <!-- Footer -->
        <footer-element></footer-element>

    </template>
    <script>
        Polymer({
            is: "home-page",
            properties: {
            },
            handleResponse: function(data) {
                this.slides = data.detail.response.result;
                
                this.async(function() {
                    var element = document.createElement("slider-element");
                    element.slides = this.slides;
                    
                    this.$.slider.appendChild(element);
                });
            },
            attached: function() {
                document.querySelector('.index-page').style.height = window.innerHeight-60 + 'px';

                window.onload = function(){
                    //console.log('window loaded: ');
                    //console.log(window.innerHeight);
                    //console.log(window.innerWidth);
                };

                window.onresize = function() {
                    //console.log('resized to: ');
                    //console.log(window.innerHeight);
                    //console.log(window.innerWidth);
                };
                window.scrollTo(0, 0);
            }
        });

    </script>
</dom-module>