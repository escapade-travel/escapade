<dom-module id="slider-element">
    <template>

        <iron-ajax
                auto
                method="GET"
                url="/data/articles.json"
                handle-as="json"
                on-response="handleResponse"
                debounce-duration="300"></iron-ajax>

        <div class="sliders" id="index-slider">
            <span class="prev"></span>
            <span class="next"></span>
            <template is="dom-repeat" items="{{slides}}">
                <div class="slide card">
                    <a href$="{{getHref(item.id)}}">
                    <div class="thumbnail">
                        <img src="{{item.image}}" alt="...">
                        <div class="caption">
                            <h3>{{item.title}}</h3>
                            <p>{{item.description}}</p>
                        </div>
                    </div>
                    </a>
                </div>
            </template>
        </div>
    </template>

    <script>
        Polymer({
            is: "slider-element",
            properties: {
                slides: {
                    type: Array,
                    reflectToAttribute: true,
                    notify: true
                }
            },
            handleResponse: function(data) {
                this.slides = data.detail.response.result;

                var slider = new Slider('index-slider');
                slider.init();
                document.querySelector('.slide').style.display = "block";
            },
            getHref: function(id) {
                if(id) {
                    return "#/themes/" + id;
                } else {
                    return "#/themes" ;
                }
            },
            attached: function() {
            }
        });
    </script>
</dom-module>