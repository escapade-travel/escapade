<link rel="import" href="oneimage.html">
<link rel="import" href="nav.html">
<link rel="import" href="contact.html">
<link rel="import" href="footer.html">

<dom-module id="book-page">
<style>
  .row{
	margin-bottom: 15px;
	margin-top: 15px;
  }
  .theme span{
	margin: 5px;
  }
  .price-value {
	margin-top: 15px;
  }
  .map-image{
	overflow: hidden;
  }
  
</style>

    <template>
<nav-element></nav-element>

<section id="detail" class="pfblock pfblock-gray screen-height">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<h1 class="pfblock-title">让我们更了解你</h1>
					<div class="pfblock-line"></div>
					<span href="#theme-selection" class="btn btn-primary" on-click="goNext" data-next="theme-selection">开始</span>					
				</div>
			</div>
		</div>
	</div>
</section>
<section id="theme-selection" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">英国最吸引你的是什么？</div>
					<div class="pfblock-line"></div>
					<div class="theme">
					<template is="dom-repeat" items="{{themes}}">
						<span class="btn btn-primary">{{item.name}}</span>
					</template>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<span href="#date-selection" class="btn btn-primary" on-click="goNext" data-next="date-selection">NEXT</span>	
			</div>
		</div>
	</div>
</section>
<section id="date-selection" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">确定出行日期了吗？</div>
					<div class="pfblock-line"></div>
					<div class="">
						<span href="#calendar" class="btn btn-primary" on-click="goNext" data-next="calendar">YES</span>
						<span href="#city-selection" class="btn btn-default" on-click="goNext" data-next="city-selection">NOT YET</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section id="calendar" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">选择起始日期</div>
					<div class="pfblock-line"></div>
					<div class="input-daterange input-group" id="datepicker">
						<input type="text" class="input-sm form-control" name="start" />
						<span class="input-group-addon">TO</span>
						<input type="text" class="input-sm form-control" name="end" />
					</div>
				</div>
			</div>
		</div>
			
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<span href="#city-selection" class="btn btn-primary" on-click="goNext" data-next="city-selection">NEXT</span>	
			</div>
		</div>
	</div>
</section>
<section id="city-selection" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">确定想去的城市了吗？</div>
					<div class="pfblock-line"></div>
					<div class="">
						<span href="#map" class="btn btn-primary" on-click="goNext" data-next="map">YES</span>
						<span href="#price-range" class="btn btn-default" on-click="goNext" data-next="price-range">NOT YET</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section id="map" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">点击选择城市</div>
					<div class="pfblock-line"></div>
					<div class="col-sm-6">
						已选城市：
					</div>
					<div class="col-sm-6">
						<div class="map-image">
							<img src="http://www.map-of-uk.com/uk-map-720.jpg">
						</div>
					</div>
				</div>
			</div>
		</div>
			
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<span href="#price-range" class="btn btn-primary" on-click="goNext" data-next="price-range">NEXT</span>	
			</div>
		</div>
	</div>
</section>
<section id="price-range" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">旅行费用预算（英镑/天)</div>
					<div class="pfblock-line"></div>
					<div id="price-slider"></div>
					<div class="price-value">
						&#163;<span id="slider-snap-value-lower"></span> - 
						&#163;<span id="slider-snap-value-upper"></span>
					</div>
				</div>
			</div>
		</div>
			
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<span href="#other-notes" class="btn btn-primary" on-click="goNext" data-next="other-notes">NEXT</span>	
			</div>
		</div>
	</div>
</section>
<section id="other-notes" class="pfblock screen-height" style="display:none">
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<div class="pfblock-header wow fadeInUp">
					<div class="pfblock-subtitle">有什么其他要求吗？</div>
					<div class="pfblock-line"></div>
					<div class="other-notes">
						<textarea class="form-control" placeholder="有什么其他要求" rows="7"></textarea>
					</div>
				</div>
			</div>
		</div>
			
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
				<span class="btn btn-primary" on-click="goNext" data-next="date-selection">提交</span>	
			</div>
		</div>
	</div>
</section>	

<!-- <contact-element></contact-element> -->

<footer-element></footer-element>
	
</template>
    <script>
        Polymer({
            is: 'book-page',
            properties: {
				themes: {
					type: Array,
					value: [
						{name: "历史"}, 
						{name: "文学"}, 
						{name: "流行音乐"}, 
						{name: "体育"}, 
						{name: "皇室"}, 
						{name: "风景"}, 
						{name: "英剧"}
					]
				}
            },
			goNext: function(e, detail){
				var element_id = e.target.getAttribute('data-next');
				document.getElementById(element_id).style.display = "block";
			},
            ready: function(){
            },
			attached: function(){
				/*Initialize price range slider*/
				var snapSlider = document.getElementById('price-slider');

				noUiSlider.create(snapSlider, {
					start: [ 200, 500 ],
					connect: true,
					range: {
						'min': [ 0 ],
						'max': [ 1000 ]
					}
				});
				
				var snapValues = [
					document.getElementById('slider-snap-value-lower'),
					document.getElementById('slider-snap-value-upper')
				];

				snapSlider.noUiSlider.on('update', function( values, handle ) {
					snapValues[handle].innerHTML = values[handle];
				});
				
				/*Initialize datepicker*/    
				$('#calendar .input-daterange').datepicker({});
				
				/* ---------------------------------------------- /*
				 * Smooth scroll / Scroll To Top
				/* ---------------------------------------------- */

				$('span[href*=#]').bind("click", function(e) {

					var anchor = $(this);
					$('html, body').stop().animate({
						scrollTop : $(anchor.attr('href')).offset().top
					}, 1000);
					e.preventDefault();
				});

				$(window).scroll(function() {
					if ($(this).scrollTop() > 100) {
						$('.scroll-up').fadeIn();
					} else {
						$('.scroll-up').fadeOut();
					}
				});
				
				
                /* ---------------------------------------------- /*
                 * Home BG
                 /* ---------------------------------------------- */

                $(".screen-height").css("min-height", function(){
					return $(window).height();
				});

                $(window).resize(function() {
                    $(".screen-height").height($(window).height());
                });

                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i
                        .test(navigator.userAgent)) {
                    $('#home').css({
                        'background-attachment' : 'scroll'
                    });
                } else {
                    $('#home').parallax('50%', 0.1);
                }
			}
        });
    </script>

</dom-module>
