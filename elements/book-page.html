<link rel="import" href="nav.html">
<link rel="import" href="contact.html">
<link rel="import" href="footer.html">

<dom-module id="book-page">
<style>
    .row{
        margin-bottom: 15px;
        margin-top: 15px;
    }
    .theme span{
        margin: 5px;
    }
    .price-value {
        margin-top: 15px;
    }
    .map-image{
        overflow: hidden;
        margin-bottom: 10px;
    }
    .input-group{
        width: 100%;
        margin-bottom: 5px;
    }
    .date-picker input{
        width: 100%;
        margin: 0 auto;
    }
    .date-picker{
        overflow: hidden;
        margin-bottom: 10px;
    }
    @media (max-width: 480px) {
        .input-group{
            width: 80%;
            margin: 0 auto;
            margin-bottom: 5px;
        }
    }

</style>

<template>

<!-- Preloader -->

<div id="preloader">
    <div id="status"></div>
</div>

<nav-element></nav-element>

<section id="detail" class="pfblock pfblock-gray screen-height">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <h1 class="pfblock-title">让我们更了解你</h1>
                    <div class="pfblock-line"></div>
                        <span href="#theme-selection" class="btn btn-primary" on-click="goNext"
                              data-current="detail" data-next="theme-selection">开始</span>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="theme-selection" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">英国最吸引你的是什么？</div>
                    <div class="pfblock-line"></div>
                    <div class="theme">
                        <template is="dom-repeat" items="{{themes}}">
                            <span class="btn btn-primary">{{item.name}}</span>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span href="#date-selection" class="btn btn-primary" on-click="goNext"
                          data-current="theme-selection" data-next="date-selection">NEXT</span>
            </div>
        </div>
    </div>
</section>
<section id="date-selection" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">确定出行日期了吗？</div>
                    <div class="pfblock-line"></div>
                    <div class="">
                            <span href="#calendar" class="btn btn-primary" on-click="goNext"
                                  data-current="" data-next="calendar">YES</span>
                            <span href="#city-selection" class="btn btn-default" on-click="goNext"
                                  data-current="date-selection"  data-next="city-selection">NOT YET</span>
                    </div>

                    <div id="calendar" class="pfblock-header wow fadeInUp" style="display:none">
                        <div class="pfblock-line"></div>
                        <div class="pfblock-subtitle">选择起止时间</div>
                        <div class="pfblock-line"></div>
                        <div class="date-picker input-daterange">
                            <div class="col-xs-6">
                                <input class="form-control" type="date" name="date" id="start-date" />
                            </div>
                            <div class="col-xs-6">
                                <input class="form-control" type="date" name="date" id="end-date" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">

                        <span href="#city-selection" class="btn btn-primary" on-click="goNext"
                              data-current="date-selection" data-next="city-selection">NEXT</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="city-selection" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">确定想去的城市了吗？</div>
                    <div class="pfblock-line"></div>
                    <div class="">
                            <span href="#map" class="btn btn-primary" on-click="goNext"
                                  data-current="" data-next="map">YES</span>
                            <span href="#price-range" class="btn btn-default" on-click="goNext"
                                  data-current="city-selection" data-next="price-range">NOT YET</span>
                    </div>


                    <div id="map" class="pfblock-header wow fadeInUp" style="display:none">
                        <div class="pfblock-line"></div>
                        <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                            <div class="map-image">
                                <img src="http://www.map-of-uk.com/uk-map-720.jpg">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span href="#price-range" class="btn btn-primary" on-click="goNext"
                          data-current="city-selection" data-next="price-range">NEXT</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="price-range" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">旅行费用预算（英镑/天)</div>
                    <div class="pfblock-line"></div>
                    <div id="price-slider"></div>
                    <div class="price-value">
                        &#163;<span id="slider-snap-value-lower"></span> -
                        &#163;<span id="slider-snap-value-upper"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span href="#other-notes" class="btn btn-primary" on-click="goNext"
                          data-current="price-range" data-next="other-notes">NEXT</span>
            </div>
        </div>
    </div>
</section>
<section id="other-notes" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">有什么其他要求吗？</div>
                    <div class="pfblock-line"></div>
                    <div class="other-notes">
                        <textarea class="form-control" placeholder="有什么其他要求" rows="7"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span class="btn btn-primary" on-click="goNext"
                          data-current="other-notes" data-next="summary">Preview</span>
            </div>
        </div>
    </div>
</section>
<section id="summary" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">预览请求</div>
                    <div class="pfblock-line"></div>
                    <div class="summary">
                        <div class="panel panel-default">
                            <!-- Default panel contents -->
                            <div class="panel-heading">Summary</div>

                            <!-- Table -->
                            <table class="table text-left">
                                <tr>
                                    <td>Themes</td>
                                    <td>Movies, Music, Sports</td>
                                </tr>
                                <tr>
                                    <td>Departure dates</td>
                                    <td>2015-10-10 TO 2015-10-20</td>
                                </tr>
                                <tr>
                                    <td>Cities</td>
                                    <td>Not Decided</td>
                                </tr>
                                <tr>
                                    <td>Budget</td>
                                    <td>&#163;100 - &#163;200 per day</td>
                                </tr>
                                <tr>
                                    <td>Other notes</td>
                                    <td>Nothing</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span class="btn btn-primary" on-click="goNext"
                          data-current="summary" data-next="contact-info">提交</span>
            </div>
        </div>
    </div>
</section>

<section id="contact-info" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-6 col-sm-offset-3">

                <div class="pfblock-header wow fadeInUp">
                    <div class="pfblock-subtitle">您的联系方式？</div>
                    <div class="pfblock-line"></div>

                    <div class="input-group input-group-lg" data-wow-delay=".1s">
                        <input type="text" class="form-control" placeholder="Your Name" aria-describedby="sizing-addon1">
                    </div>

                    <div class="input-group input-group-lg" data-wow-delay=".1s">
                        <input type="email" class="form-control" placeholder="Your Email" aria-describedby="sizing-addon1">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                    <span class="btn btn-primary" on-click="goNext"
                          data-current="contact-info" data-next="success">提交</span>
            </div>
        </div>
    </div>
</section>

<section id="success" class="pfblock pfblock-gray screen-height" style="display:none">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
                <div class="pfblock-header wow fadeInUp">
                    <h1 class="pfblock-title">Request sent successfully</h1>
                    <div class="pfblock-line"></div>
                    <div class="pfblock-subtitle">Thanks XXX for your request. <br> We will contact you within xxx days. Just relax and have a nice day!</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- <contact-element></contact-element> -->

<footer-element></footer-element>

</template>
<script>
    Polymer({
        is: 'book-page',
        properties: {
            themes: {
                type: Array,
                value: [
                    {name: "历史"},
                    {name: "文学"},
                    {name: "流行音乐"},
                    {name: "体育"},
                    {name: "皇室"},
                    {name: "风景"},
                    {name: "英剧"}
                ]
            }
        },
        goNext: function(e, detail){
            var next_id = e.target.getAttribute('data-next');
            var current_id = e.target.getAttribute('data-current');
            if(next_id){
                document.getElementById(next_id).style.display = "block";
            }
            if(current_id){
                document.getElementById(current_id).style.display = "none";
            }
        },
        ready: function(){
        },
        attached: function(){
            $('#status').fadeOut();
            $('#preloader').delay(300).fadeOut('slow');

            /*Initialize price range slider*/
            var snapSlider = document.getElementById('price-slider');

            noUiSlider.create(snapSlider, {
                start: [ 200, 500 ],
                connect: true,
                range: {
                    'min': [ 0 ],
                    'max': [ 1000 ]
                }
            });

            var snapValues = [
                document.getElementById('slider-snap-value-lower'),
                document.getElementById('slider-snap-value-upper')
            ];

            snapSlider.noUiSlider.on('update', function( values, handle ) {
                snapValues[handle].innerHTML = values[handle];
            });

            if (!Modernizr.inputtypes.date) {
                // no native support for <input type="date"> :(
                /*Initialize datepicker*/
                $('#calendar .input-daterange').datepicker({});
            }

            /* ---------------------------------------------- /*
             * Smooth scroll / Scroll To Top
             /* ---------------------------------------------- */

            /*
             $('span[href*=#]').bind("click", function(e) {

             var anchor = $(this);
             $('html, body').stop().animate({
             scrollTop : $(anchor.attr('href')).offset().top
             }, 1000);
             e.preventDefault();
             });

             $(window).scroll(function() {
             if ($(this).scrollTop() > 100) {
             $('.scroll-up').fadeIn();
             } else {
             $('.scroll-up').fadeOut();
             }
             });
             */


            /* ---------------------------------------------- /*
             * Home BG
             /* ---------------------------------------------- */


            $(".screen-height").css("min-height", function(){
                return $(window).height();
            });

            $(window).resize(function() {
                $(".screen-height").height($(window).height());
            });

            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i
                    .test(navigator.userAgent)) {
                $('#home').css({
                    'background-attachment' : 'scroll'
                });
            } else {
                $('#home').parallax('50%', 0.1);
            }
        }
    });
</script>

</dom-module>
